{"ast":null,"code":"import _defineProperty from\"/Users/salmankhattak/Documents/metaFrontEnd/little-lemon-website/little-lemon/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/salmankhattak/Documents/metaFrontEnd/little-lemon-website/little-lemon/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/salmankhattak/Documents/metaFrontEnd/little-lemon-website/little-lemon/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/salmankhattak/Documents/metaFrontEnd/little-lemon-website/little-lemon/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/salmankhattak/Documents/metaFrontEnd/little-lemon-website/little-lemon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{fetchAPI}from'../api.js';import'./styles/BookingForm.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BookingForm(_ref){var formData=_ref.formData,onFormChange=_ref.onFormChange,submitForm=_ref.submitForm;var today=new Date();var yyyy=today.getFullYear();var mm=today.getMonth()+1;// Months start at 0!\nvar dd=today.getDate();if(dd<10)dd='0'+dd;if(mm<10)mm='0'+mm;formData.date=yyyy+'/'+mm+'/'+dd;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),availableTimes=_useState2[0],setAvailableTimes=_useState2[1];var updateTimes=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(selectedDate){var times;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:times=fetchAPI(selectedDate);setAvailableTimes(times);case 2:case\"end\":return _context.stop();}},_callee);}));return function updateTimes(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){updateTimes(formData.date).then(function(r){return console.log(r);});},[formData.date]);var handleSubmit=function handleSubmit(event){event.preventDefault();submitForm(formData);};var handleChange=function handleChange(event){var target=event.target;var name=target.id;var value=target.type==='date'?target.value:target.value;onFormChange(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));if(event.target.id==='res-date'){var selectedDate=new Date(event.target.value);updateTimes(selectedDate).then(function(r){return console.log(r);});}};var handleTimeClick=function handleTimeClick(time){onFormChange(_objectSpread(_objectSpread({},formData),{},{time:time}));};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFormValid=_useState4[0],setIsFormValid=_useState4[1];// eslint-disable-next-line react-hooks/exhaustive-deps\nvar validateForm=function validateForm(){var hasDate=!!formData.date;var hasTime=!!formData.time;var hasGuests=formData.guests>0;setIsFormValid(hasDate&&hasTime&&hasGuests);};useEffect(function(){validateForm();},[formData,validateForm]);return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{gap:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"res-date\",children:\"Choose date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"res-date\",defaultValue:formData.date,onChange:handleChange,min:yyyy+'-'+mm+'-'+dd}),/*#__PURE__*/_jsx(\"label\",{children:\"Choose time\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:availableTimes.map(function(availableTime){return/*#__PURE__*/_jsx(\"button\",{className:\"time\",type:\"button\",onClick:function onClick(){return handleTimeClick(availableTime);},style:{backgroundColor:formData.time===availableTime?'#f4ce14':'black',color:formData.time===availableTime?'black':'white'},children:availableTime},availableTime);})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"guests\",children:\"Number of guests\"}),/*#__PURE__*/_jsx(\"input\",{className:\"slider\",type:\"range\",min:\"1\",max:\"10\",step:\"1\",id:\"guests\",value:formData.guests,onChange:handleChange}),/*#__PURE__*/_jsxs(\"p\",{className:\"guests\",children:[formData.guests,\" guests\"]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"occasion\",children:\"Occasion\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"occasion\",value:formData.occasion,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"occasion\",disabled:true,children:\"Select an occasion\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Birthday\",children:\"Birthday\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Engagement\",children:\"Engagement\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Anniversary\",children:\"Anniversary\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Make Your reservation\",disabled:!isFormValid})]});}export default BookingForm;","map":{"version":3,"names":["React","useEffect","useState","fetchAPI","jsx","_jsx","jsxs","_jsxs","BookingForm","_ref","formData","onFormChange","submitForm","today","Date","yyyy","getFullYear","mm","getMonth","dd","getDate","date","_useState","_useState2","_slicedToArray","availableTimes","setAvailableTimes","updateTimes","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","selectedDate","times","wrap","_callee$","_context","prev","next","stop","_x","apply","arguments","then","r","console","log","handleSubmit","event","preventDefault","handleChange","target","name","id","value","type","_objectSpread","_defineProperty","handleTimeClick","time","_useState3","_useState4","isFormValid","setIsFormValid","validateForm","hasDate","hasTime","hasGuests","guests","onSubmit","style","gap","children","htmlFor","defaultValue","onChange","min","display","justifyContent","map","availableTime","className","onClick","backgroundColor","color","max","step","occasion","disabled"],"sources":["/Users/salmankhattak/Documents/metaFrontEnd/little-lemon-website/little-lemon/src/components/BookingForm.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {fetchAPI} from '../api.js';\nimport './styles/BookingForm.css';\n\nfunction BookingForm({ formData, onFormChange, submitForm }) {\n    const today = new Date();\n    const yyyy = today.getFullYear();\n    let mm = today.getMonth() + 1; // Months start at 0!\n    let dd = today.getDate();\n\n    if (dd < 10) dd = '0' + dd;\n    if (mm < 10) mm = '0' + mm;\n\n    formData.date = yyyy + '/' + mm + '/' + dd;\n    const [availableTimes, setAvailableTimes] = useState([]);\n\n\n    const updateTimes = async (selectedDate) => {\n        const times = fetchAPI(selectedDate);\n        setAvailableTimes(times);\n    };\n\n    useEffect(() => {\n        updateTimes(formData.date).then(r => console.log(r));\n    }, [formData.date]);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        submitForm(formData);\n    };\n\n\n    const handleChange = (event) => {\n        const target = event.target;\n        const name = target.id;\n        const value = target.type === 'date' ? target.value : target.value;\n\n        onFormChange({\n            ...formData,\n            [name]: value,\n        });\n\n        if (event.target.id === 'res-date') {\n            const selectedDate = new Date(event.target.value);\n            updateTimes(selectedDate).then(r => console.log(r));\n        }\n    };\n\n    const handleTimeClick = (time) => {\n        onFormChange({\n            ...formData,\n            time,\n        });\n    };\n\n    const [isFormValid, setIsFormValid] = useState(false);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const validateForm = () => {\n        const hasDate = !!formData.date;\n        const hasTime = !!formData.time;\n        const hasGuests = formData.guests > 0;\n\n        setIsFormValid(hasDate && hasTime && hasGuests);\n    };\n\n    useEffect(() => {\n        validateForm();\n    }, [formData, validateForm]);\n\n    return (\n        <form onSubmit={handleSubmit} style={{ gap: '20px' }}>\n            <label htmlFor=\"res-date\">Choose date</label>\n            <input\n                type=\"date\"\n                id=\"res-date\"\n                defaultValue={formData.date}\n                onChange={handleChange}\n                min={yyyy + '-' + mm + '-' + dd}\n            />\n\n            <label>Choose time</label>\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                {availableTimes.map((availableTime) => (\n                    <button\n                        className=\"time\"\n                        key={availableTime}\n                        type=\"button\"\n                        onClick={() => handleTimeClick(availableTime)}\n                        style={{\n                            backgroundColor: formData.time === availableTime ? '#f4ce14' : 'black',\n                            color: formData.time === availableTime ? 'black' : 'white',\n                        }}\n                    >\n                        {availableTime}\n                    </button>\n                ))}\n            </div>\n            <label htmlFor=\"guests\">Number of guests</label>\n            <input\n                className=\"slider\"\n                type=\"range\"\n                min=\"1\"\n                max=\"10\"\n                step=\"1\"\n                id=\"guests\"\n                value={formData.guests}\n                onChange={handleChange}\n            />\n            <p className=\"guests\">{formData.guests} guests</p>\n            <label htmlFor=\"occasion\">Occasion</label>\n            <select\n                id=\"occasion\"\n                value={formData.occasion}\n                onChange={handleChange}\n            >\n                <option value=\"occasion\" disabled>\n                    Select an occasion\n                </option>\n                <option value=\"Birthday\">Birthday</option>\n                <option value=\"Engagement\">Engagement</option>\n                <option value=\"Anniversary\">Anniversary</option>\n            </select>\n            <input\n                type=\"submit\"\n                value=\"Make Your reservation\"\n                disabled={!isFormValid}\n            />\n        </form>\n    );\n}\n\nexport default BookingForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}